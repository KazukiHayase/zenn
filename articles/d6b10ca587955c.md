---
title: "GraphQLとReact Server Componentsの併用について"
emoji: "💨"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

# GraphQLとReact Server Componentsの併用について

- GraphQLとRSCは同じ課題を解決する異なるアプローチ
- どちらも、自律的かつ効率的にデータを宣言・取得することを目指している
- 今ゼロからアプリケーションを作るなら、併用する必要はない
- ただ、現行でGraphQLを使っている場合のAppRouterへの移行は必要
- その際のやり方は色々ある

## 設計方針

- どのように併用するか
- このように実装して欲しいという思想はApolloにはなさそう？
- Next.jsに依存しない、将来的に脱することを視野に入れる -> colocationは継続
- Next.jsに依存してRSCの恩恵享受を狙う、REST等への移行を視野に入れる -> SCを積極的に使用していく
- Colocationしてrootでリクエストするのがちょうど良いのでは？
  - そこまで無理してSCを使う必要性はないので、CSに寄せるとかはあり、チームの方針によると思う
  - leafでリクエストしても、memorizeはされない
- Fragment Colocationについて
- やる方が良い
- Next.jsを剥がすかもしれないし、CCで使いたいかもしれない
- leafで取得するか迷うので、rootで取得に統一の方が良い
- CSに寄せるのもアリかも
