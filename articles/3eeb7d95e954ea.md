---
title: "AI駆動開発における開発フローの変化"
emoji: "🔥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["ai", "claude", "開発効率化", "開発フロー"]
published: false
---

# はじめに

最近、Claude Codeを導入してから自分の開発スタイルが劇的に変化しました。要件定義からコーディング、QAまで、全ての開発フローにおいてClaude（Claude Code）を活用するようになり、開発効率が大幅に向上しています。

これまでの開発では手作業で行っていた多くの工程が、AIとの対話によって効率化され、自分はより本質的な思考や設計に集中できるようになりました。この変化があまりにも大きかったため、各開発ステップごとにどのようにClaude Codeを活用しているかを詳しく紹介していきます。

実際に運用している具体的な手法やプロンプト例も交えながら、AI駆動開発の実践的なアプローチをお伝えできればと思います。

# 要件定義

## 機能要件・仕様の整理にClaude Codeを活用

要件定義の段階では、Claude Codeを機能要件や機能仕様をまとめるために活用しています。ブレインストーミングというよりは、複数人で議論して発散させた内容を収束させるのに非常に重宝しています。

具体的には、会議の議事録をそのままClaude Codeに入力することで、散らばった議論を整理された要件仕様書に変換してもらっています。これまでの議論内容を踏まえた上で「このような要件になりますが、いかがでしょうか？」と提案してくれるので、チーム内での合意形成がスムーズになりました。

成果物はMarkdown形式で出力してもらい、そのままNotionに貼り付けて管理しています。Notion MCPも試してみたのですが、現時点では少し使い勝手が微妙だったので、手動でコピー&ペーストする方が確実で早いという結論に至りました。

この手法により、要件定義にかかる時間が大幅に短縮され、より本質的な議論に時間を割けるようになったのが嬉しいです。

# DB設計

## tblsとの連携でスキーマ管理を効率化

DB設計においても、Claude Codeが大いに活躍しています。自分のプロジェクトでは[tbls](https://github.com/k1LoW/tbls)を使ってテーブルスキーマをGitで管理しているのですが、この.mdファイルをClaude Codeに読み込ませることで、データベースの現在の構造をコンテキストとして渡すことができます。

特に便利なのが、新しいテーブルを設計する際に関連する既存テーブルのスキーマファイルも一緒に指定できることです。これにより、既存のテーブル構造との整合性を保ちながら、新しいテーブル設計を進められるようになりました。

## Mermaidを使ったER図の自動生成

Claude Codeに設計の依頼をすると、成果物をMermaid記法でER図として出力してくれます。これまでは自分でツールを使ってERDを作成したり、Mermaidの記法を調べながら書いたりしていましたが、Claude Codeを使うことではるかに早くER図を作成できるようになりました。

以下のようなプロンプトで依頼することが多いです：

```
既存のusersテーブルとpostsテーブルのスキーマを参考に、
新しくcommentsテーブルを設計してください。
ER図はMermaid記法で出力してください。
```

## マイグレーションSQLの自動生成

さらに便利なのが、完成したMermaidのER図をそのままClaude Codeに渡すことで、マイグレーション用のSQLを自動生成してもらえることです。テーブル作成のDDLからインデックスの作成まで、一通りのマイグレーションSQLを出力してくれるので、かなりの時間短縮になっています。

# コーディング

## git worktreeを使った並列開発

コーディングフェーズでは、基本的に`git worktree`を使って2つのClaude Codeを並列で動かしています。具体的には、line1に指示を出す→line2に指示を出す→line1の修正依頼→line2の修正依頼、といった感じで進めています。

ただし、この方法はコンテキストスイッチが発生するため、かなり集中力が持っていかれるのが難点です。そのため、シンプルなタスクの場合にのみこの手法を使い、複雑で難しいものについては1つのlineで集中して取り組むようにしています。

## バックエンド開発：実装→テストの流れ

バックエンドの開発では、実装→テストの順番で進めて、テストがpassするまでClaude Codeに修正させるというフローを採用しています。本来であればテスト→実装の順番（TDD）の方が良いとは思いつつ、この方法の方が楽で効率的だと感じています。

テストコードを書く際は、Planモードを活用してテストケースの列挙を行ってもらってから実装に入ります。これにより、網羅的なテストケースを漏れなく作成できるようになりました。

## フロントエンド開発：Figma MCPの活用

フロントエンド開発においては、Figma MCPを使ったUI生成が革命的でした。ほぼ一発で期待できるものができるので、これからのフロントエンド開発には必須のツールだと感じています。

細かい箇所の微調整については、手で直接修正するかClaude Codeに指示を出して調整してもらいます。Figma MCPを使えば、かなり精度の高い成果物が出てくるので、「Figmaを作る≒実装」のような感覚になっています。

Figmaの完成度が実装の精度に直結するという状況になっていますが、そもそもFigmaが不要なのではないかという説もあるので、今後検証が必要かなと思います。

# QA・PR作成

QAとPR作成の段階では、以前にZennの記事で書いた手法をベースに運用しています。

実装段階で先にテストがpassするように作り込んでいるため、ステージング環境にデプロイした後は、APIの動作確認をClaude Code経由で行うことが多いです。Claude CodeにAPI仕様を理解させて、実際のエンドポイントに対してリクエストを送って動作確認してもらうという流れです。

この方法により、手動でのAPI確認作業が大幅に削減され、より体系的な品質確認ができるようになりました。また、Claude Codeが生成するテストケースは網羅的で、自分では気づかなかった edge case も含んでいることが多く、品質向上にも寄与しています。

# 所感

Claude Codeを導入してから、手を動かすことは圧倒的に減りました。その分、思考することにフォーカスできるようになったのが最も大きな変化だと感じています。

コードを書く時間よりも、どのような設計にするか、どのようなアーキテクチャが適切か、といった本質的な部分に時間を割けるようになりました。最近は、AIを使った効率化や開発の平準化について思考をめぐらせることが多くなっています。

ただし、AIに完全に自律的に動いてもらうにはまだ難しいと思います。適切な指示出しや、コンテキストの提供、結果の検証など、人間がしっかりと関与する必要があることは変わりません。AIをうまく活用するためのスキルが、これからのエンジニアにとってより重要になってくるのではないでしょうか。

# まとめ

Claude Codeを活用したAI駆動開発により、自分の開発フローは大きく変化しました。要件定義からコーディング、QAに至るまで、各段階でAIの力を借りることで、効率性と品質の両方を向上させることができています。

特に印象的だったのは、単純な作業時間の短縮だけでなく、より本質的な思考や設計に集中できるようになったことです。手を動かす時間が減った分、アーキテクチャの検討や技術選定により多くの時間を割けるようになりました。

今後もAI技術の進歩に合わせて、開発フローをアップデートしていきたいと思います。皆さんもぜひClaude Codeを活用して、より効率的で質の高い開発を実現してみてください！

# 参考

- [私がVibe Codingで使うClaude Codeの技法](https://zenn.dev/yoshiko/articles/my-vibe-coding)
